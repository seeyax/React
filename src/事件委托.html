<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>事件委托</title>
  <style>
    * {
      margin: 0;
      padding: 0;
    }
    html,body{
      height: 100%;
      overflow: hidden;
    }
    .center{
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%,-50%);
    }
    #root{
      width: 300px;
      height: 300px;
      background: lightblue;
    }
    #outer{
      width: 200px;
      height: 200px;
      background: yellow;
    }
    #inner{
      width: 100px;
      height: 100px;
      background: green;
    }
  </style>
</head>
<body>
  <div id="root" class="center">
    <div id="outer" class="center">
      <div id="inner" class="center"></div>
    </div>
  </div>
  <script>
    // 层级结构 window->document->html->body->root->outer->inner
    const html = document.documentElement,
          body = document.body,
          root = document.querySelector('#root'),
          outer = document.querySelector('#outer'),
          inner = document.querySelector('#inner')

    root.addEventListener('click', function () {
      // ev.stopPropagation() 阻止捕获
      console.log('root 捕获');
    },true)

    root.addEventListener('click', function () {
      console.log('root 冒泡');
    },false)

    outer.addEventListener('click', function () {
      console.log('outer 捕获');
    },true)

    outer.addEventListener('click', function () {
      console.log('outer 冒泡');
    },false)

    inner.addEventListener('click', function () {
      console.log('inner 捕获');
    },true)

    inner.addEventListener('click', function (ev) {
      console.log('inner 冒泡');
    },false)
    // ev.stopPropagation() 阻止事件的传播[包含捕获和冒泡]
    // 打印的结果依次为：root捕获 -> outer捕获 -> inner捕获 -> inner冒泡 -> outer冒泡 -> root冒泡

    /**
     事件具备传播机制,例如:当我们触发inner的点击行为的时候
      第一步： 从最外层向最里层逐一查找[捕获阶段：分析出路径]
      第二步： 把事件源（点击的这个元素）的点击行为触发[目标阶段]
      第三步： 按照捕获阶段分出来的路径，从里到外，把每一个元素的点击行为也触发！！[冒泡阶段]

    事件和事件绑定：
      事件是浏览器赋予元素的默认行为
      事件绑定是给这个行为绑定一个方法
    */
  </script>
</body>
</html>